{
  "stats": {
    "suites": 8,
    "tests": 31,
    "passes": 31,
    "pending": 0,
    "failures": 0,
    "start": "2024-04-08T09:40:18.043Z",
    "end": "2024-04-08T09:40:23.672Z",
    "duration": 5629,
    "testsRegistered": 31,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "a37b6655-6485-4294-9dbb-5ad4ef35e82c",
      "title": "",
      "fullFile": "cypress\\e2e\\backend\\endpoints.cy.js",
      "file": "cypress\\e2e\\backend\\endpoints.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "21e2b926-e99c-4b73-b3df-82ce6fc97fe1",
          "title": "GET /api/products",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 200 - success",
              "fullTitle": "GET /api/products returns 200 - success",
              "timedOut": null,
              "duration": 966,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request(endpoint).then(response => {\n  expect(response.status).to.be.eq(200);\n  expect(response.headers[\"content-type\"]).to.contains(\"application/json\");\n  for (let product of response.body) {\n    expect(product.id).to.be.a(\"string\");\n    expect(product.id).to.be.match(_pattern.UUIDv4);\n    expect(product.name).to.be.a(\"string\");\n    expect(product.description).to.be.a(\"string\");\n    expect(product.category).to.be.a(\"string\");\n    expect(product.originalPrice).to.be.a(\"number\");\n    expect(product.pictureUrl).to.be.a(\"string\");\n    expect(product.endDate).to.be.a(\"string\");\n    expect(product.endDate).to.match(_pattern.IOS8601);\n    expect(product.seller.id).to.be.a(\"string\");\n    expect(product.seller.username).to.be.a(\"string\");\n    for (let bid of product.bids) {\n      expect(bid.id).to.be.a(\"string\");\n      expect(bid.id).to.match(_pattern.UUIDv4);\n      expect(bid.price).to.be.a(\"number\");\n      expect(bid.date).to.be.a(\"string\");\n      expect(bid.date).to.match(_pattern.IOS8601);\n    }\n    const fixtureProduct = response.body.find(item => {\n      return item.id === \"a0f7c522-78f8-442e-a55d-642cfe566634\";\n    });\n    expect(fixtureProduct.id).to.be.eq(\"a0f7c522-78f8-442e-a55d-642cfe566634\");\n    expect(fixtureProduct.name).to.be.eq(\"Lot de casseroles\");\n    expect(fixtureProduct.description).to.be.eq(\"Ensemble de casseroles de qualité supérieure pour répondre à tous vos besoins culinaires.\");\n    expect(fixtureProduct.category).to.be.eq(\"Cuisine\");\n    expect(fixtureProduct.originalPrice).to.be.eq(40);\n    expect(fixtureProduct.pictureUrl).to.be.eq(\"https://image.noelshack.com/fichiers/2023/12/4/1679526253-65535-51812547429-fe1cc0d832-c-512-512-nofilter.jpg\");\n    expect(fixtureProduct.seller.id).to.be.eq(_tokens.aliceId);\n    expect(fixtureProduct.seller.username).to.be.eq(\"alice\");\n    expect(fixtureProduct.bids.some(bid => bid.price === 65)).to.be.true;\n  }\n});",
              "err": {},
              "uuid": "3933d1b8-05d3-43ca-9e42-24773f5a1844",
              "parentUUID": "21e2b926-e99c-4b73-b3df-82ce6fc97fe1",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "3933d1b8-05d3-43ca-9e42-24773f5a1844"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 966,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "196fdcf4-ef5d-495a-9a24-14fee6dd9283",
          "title": "POST /api/products",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "POST /api/products returns 401 - not authorized",
              "timedOut": null,
              "duration": 179,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products\",\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  body: {\n    name: \"New Product\",\n    description: \"This is a new product\",\n    category: \"Electronics\",\n    originalPrice: 99,\n    pictureUrl: \"https://example.com/product.jpg\",\n    endDate: \"2023-04-01T00:00:00.000Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "0a8f04e9-04b9-42da-9a5f-76bdb3f1d9b5",
              "parentUUID": "196fdcf4-ef5d-495a-9a24-14fee6dd9283",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 201 - created",
              "fullTitle": "POST /api/products returns 201 - created",
              "timedOut": null,
              "duration": 121,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: \"New Product\",\n    description: \"This is a new product\",\n    category: \"Electronics\",\n    originalPrice: 99,\n    pictureUrl: \"https://example.com/product.jpg\",\n    endDate: \"2023-04-01T00:00:00.000Z\"\n  }\n}).then(response => {\n  // Assert that the response is as expected\n  expect(response.status).to.eq(201);\n  expect(response.body.id).to.be.match(_pattern.UUIDv4);\n  expect(response.body.name).to.eq(\"New Product\");\n  expect(response.body.description).to.eq(\"This is a new product\");\n  expect(response.body.category).to.eq(\"Electronics\");\n  expect(response.body.originalPrice).to.eq(99);\n  expect(response.body.pictureUrl).to.eq(\"https://example.com/product.jpg\");\n  expect(response.body.endDate).to.eq(\"2023-04-01T00:00:00.000Z\");\n  expect(response.body.sellerId).to.eq(_tokens.aliceId);\n});",
              "err": {},
              "uuid": "5c36e449-007d-489a-adc7-8bcca39fb066",
              "parentUUID": "196fdcf4-ef5d-495a-9a24-14fee6dd9283",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 400 - missing or invalid fields",
              "fullTitle": "POST /api/products returns 400 - missing or invalid fields",
              "timedOut": null,
              "duration": 117,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    // Missing name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).then(req => {\n  expect(req.status).to.be.eq(400);\n  expect(req.body.error).to.be.eq(\"Invalid or missing fields\");\n  expect(req.body.details).to.exist;\n});",
              "err": {},
              "uuid": "8886f9d0-59a2-48ec-ae87-a46a137a2f22",
              "parentUUID": "196fdcf4-ef5d-495a-9a24-14fee6dd9283",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object created in database",
              "fullTitle": "POST /api/products check mutation - object created in database",
              "timedOut": null,
              "duration": 130,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\n(0, _orm.getProducts)().then(({\n  products: productsBeforeCreation\n}) => {\n  (0, _orm.createProduct)().then(({\n    product\n  }) => {\n    (0, _orm.getProducts)().then(({\n      products: productsAfterCreation\n    }) => {\n      const newProducts = productsAfterCreation.filter(product => productsBeforeCreation.every(existingProduct => existingProduct.id !== product.id));\n      expect(newProducts.length).to.be.eq(1);\n      const newProduct = newProducts[0];\n      expect(newProduct.id).to.be.match(_pattern.UUIDv4);\n      expect(newProduct.name).to.eq(name);\n      expect(newProduct.description).to.eq(product.description);\n      expect(newProduct.category).to.eq(product.category);\n      expect(newProduct.originalPrice).to.eq(product.originalPrice);\n      expect(newProduct.pictureUrl).to.eq(product.pictureUrl);\n      expect(newProduct.endDate).to.eq(product.endDate);\n      expect(newProduct.seller.id).to.eq(_tokens.aliceId);\n      expect(newProduct.seller.username).to.eq(\"alice\");\n    });\n  });\n});",
              "err": {},
              "uuid": "afe8d4f1-579e-4c6d-b7ae-eaa190ef797d",
              "parentUUID": "196fdcf4-ef5d-495a-9a24-14fee6dd9283",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "0a8f04e9-04b9-42da-9a5f-76bdb3f1d9b5",
            "5c36e449-007d-489a-adc7-8bcca39fb066",
            "8886f9d0-59a2-48ec-ae87-a46a137a2f22",
            "afe8d4f1-579e-4c6d-b7ae-eaa190ef797d"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 547,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "208fd8b7-6f37-4e16-8c44-fa8462951b73",
          "title": "GET /api/products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 404 - not found",
              "fullTitle": "GET /api/products/:productId returns 404 - not found",
              "timedOut": null,
              "duration": 125,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "7f380544-a0d9-4566-b15d-b15c23438083",
              "parentUUID": "208fd8b7-6f37-4e16-8c44-fa8462951b73",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success",
              "fullTitle": "GET /api/products/:productId returns 200 - success",
              "timedOut": null,
              "duration": 134,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request(endpoint).then(response => {\n  expect(response.status).to.be.eq(200);\n  expect(response.headers[\"content-type\"]).to.includes(\"application/json\");\n  const product = response.body;\n  expect(product.id).to.be.eq(\"a0f7c522-78f8-442e-a55d-642cfe566634\");\n  expect(product.name).to.be.eq(\"Lot de casseroles\");\n  expect(product.description).to.be.eq(\"Ensemble de casseroles de qualité supérieure pour répondre à tous vos besoins culinaires.\");\n  expect(product.category).to.be.eq(\"Cuisine\");\n  expect(product.originalPrice).to.be.eq(40);\n  expect(product.pictureUrl).to.be.eq(\"https://image.noelshack.com/fichiers/2023/12/4/1679526253-65535-51812547429-fe1cc0d832-c-512-512-nofilter.jpg\");\n  expect(product.seller.id).to.be.eq(_tokens.aliceId);\n  expect(product.seller.username).to.be.eq(\"alice\");\n  const bid = response.body.bids.find(bid => bid.price === 65);\n  expect(bid.id).to.be.eq(\"8ccc6e79-f3c9-43e9-b47e-5be7b84d8de7\");\n  expect(bid.bidder.id).to.be.eq(_tokens.charlyId);\n  expect(bid.bidder.username).to.be.eq(\"charly\");\n});",
              "err": {},
              "uuid": "4051fc4c-1ec2-4a9c-834c-1445d90eb2e9",
              "parentUUID": "208fd8b7-6f37-4e16-8c44-fa8462951b73",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "7f380544-a0d9-4566-b15d-b15c23438083",
            "4051fc4c-1ec2-4a9c-834c-1445d90eb2e9"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 259,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "05eb077f-1645-4821-aea7-97eeff077fe9",
          "title": "PUT /api/products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "PUT /api/products/:productId returns 401 - not authorized",
              "timedOut": null,
              "duration": 122,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"PUT\",\n  url: endpoint,\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "d5d35b73-e8f5-4263-a1cd-e4e7573a8034",
              "parentUUID": "05eb077f-1645-4821-aea7-97eeff077fe9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success, when owner edit",
              "fullTitle": "PUT /api/products/:productId returns 200 - success, when owner edit",
              "timedOut": null,
              "duration": 117,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  }\n}).its(\"status\").should(\"equal\", 200);",
              "err": {},
              "uuid": "1207f7f3-68e0-4f6b-8a1e-c3d99657bbcf",
              "parentUUID": "05eb077f-1645-4821-aea7-97eeff077fe9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 403 - forbidden, when non owner edit",
              "fullTitle": "PUT /api/products/:productId returns 403 - forbidden, when non owner edit",
              "timedOut": null,
              "duration": 114,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.bobToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 403);",
              "err": {},
              "uuid": "c09bb6d4-01b4-4884-b114-2a5d5e1dfa16",
              "parentUUID": "05eb077f-1645-4821-aea7-97eeff077fe9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success, when admin edit",
              "fullTitle": "PUT /api/products/:productId returns 200 - success, when admin edit",
              "timedOut": null,
              "duration": 108,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.adminToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  }\n}).its(\"status\").should(\"equal\", 200);",
              "err": {},
              "uuid": "13824a90-de2d-4473-9d93-52ea7f8f26d8",
              "parentUUID": "05eb077f-1645-4821-aea7-97eeff077fe9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 404 - not found",
              "fullTitle": "PUT /api/products/:productId returns 404 - not found",
              "timedOut": null,
              "duration": 117,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "e2841f03-886d-4d97-9879-ea24a739b5e4",
              "parentUUID": "05eb077f-1645-4821-aea7-97eeff077fe9",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object updated in database",
              "fullTitle": "PUT /api/products/:productId check mutation - object updated in database",
              "timedOut": null,
              "duration": 137,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const newProductData = (0, _orm.buildProduct)();\ncy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: newProductData.name,\n    description: newProductData.description,\n    pictureUrl: newProductData.pictureUrl,\n    category: newProductData.category,\n    originalPrice: newProductData.originalPrice,\n    endDate: newProductData.endDate.toISOString()\n  }\n}).then(() => {\n  cy.request(endpoint).then(response => {\n    const product = response.body;\n    expect(response.status).to.be.eq(200);\n    expect(product.id).to.be.eq(\"a0f7c522-78f8-442e-a55d-642cfe566634\");\n    expect(product.name).to.be.eq(newProductData.name);\n    expect(product.description).to.be.eq(newProductData.description);\n    expect(product.category).to.be.eq(newProductData.category);\n    expect(product.originalPrice).to.be.eq(newProductData.originalPrice);\n    expect(product.pictureUrl).to.be.eq(newProductData.pictureUrl);\n    expect(product.endDate).to.be.eq(newProductData.endDate.toISOString());\n    expect(product.seller.id).to.be.eq(_tokens.aliceId);\n    expect(product.seller.username).to.be.eq(\"alice\");\n  });\n});",
              "err": {},
              "uuid": "fa4d9dc1-2568-4563-919a-c26cb328ba2b",
              "parentUUID": "05eb077f-1645-4821-aea7-97eeff077fe9",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "d5d35b73-e8f5-4263-a1cd-e4e7573a8034",
            "1207f7f3-68e0-4f6b-8a1e-c3d99657bbcf",
            "c09bb6d4-01b4-4884-b114-2a5d5e1dfa16",
            "13824a90-de2d-4473-9d93-52ea7f8f26d8",
            "e2841f03-886d-4d97-9879-ea24a739b5e4",
            "fa4d9dc1-2568-4563-919a-c26cb328ba2b"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 715,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "082cceba-de55-4ec2-846f-605cd5da3ee5",
          "title": "DELETE /api/products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "DELETE /api/products/:productId returns 401 - not authorized",
              "timedOut": null,
              "duration": 107,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"DELETE\",\n  url: endpoint,\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "830c18d7-933a-445a-9537-1f56a1c87b2a",
              "parentUUID": "082cceba-de55-4ec2-846f-605cd5da3ee5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when owner edit",
              "fullTitle": "DELETE /api/products/:productId returns 204 - success, when owner edit",
              "timedOut": null,
              "duration": 181,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "4582ede2-da9b-405d-8599-94ad584ba5e0",
              "parentUUID": "082cceba-de55-4ec2-846f-605cd5da3ee5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 403 - forbidden, when non owner edit",
              "fullTitle": "DELETE /api/products/:productId returns 403 - forbidden, when non owner edit",
              "timedOut": null,
              "duration": 80,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.bobToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 403);",
              "err": {},
              "uuid": "748de457-07ed-4a7a-9779-0a0d133bfc9d",
              "parentUUID": "082cceba-de55-4ec2-846f-605cd5da3ee5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when admin edit",
              "fullTitle": "DELETE /api/products/:productId returns 204 - success, when admin edit",
              "timedOut": null,
              "duration": 112,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.adminToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "52144716-7cf8-4edb-992c-a978b1abe05e",
              "parentUUID": "082cceba-de55-4ec2-846f-605cd5da3ee5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 404 - not found",
              "fullTitle": "DELETE /api/products/:productId returns 404 - not found",
              "timedOut": null,
              "duration": 120,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "8554d9f7-ae5a-4931-b28c-f17f56ebc0a3",
              "parentUUID": "082cceba-de55-4ec2-846f-605cd5da3ee5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object deleted in database",
              "fullTitle": "DELETE /api/products/:productId check mutation - object deleted in database",
              "timedOut": null,
              "duration": 111,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"GET\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  }\n}).then(response => {\n  expect(response.status).to.be.eq(200);\n  cy.request({\n    url: endpoint,\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${_tokens.aliceToken}`\n    }\n  }).then(response => {\n    expect(response.status).to.be.eq(204);\n    cy.request({\n      url: endpoint,\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${_tokens.aliceToken}`\n      },\n      failOnStatusCode: false\n    }).then(response => {\n      expect(response.status).to.be.eq(404);\n    });\n  });\n});",
              "err": {},
              "uuid": "0dd00431-65d3-4f26-9900-639c365374ed",
              "parentUUID": "082cceba-de55-4ec2-846f-605cd5da3ee5",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "830c18d7-933a-445a-9537-1f56a1c87b2a",
            "4582ede2-da9b-405d-8599-94ad584ba5e0",
            "748de457-07ed-4a7a-9779-0a0d133bfc9d",
            "52144716-7cf8-4edb-992c-a978b1abe05e",
            "8554d9f7-ae5a-4931-b28c-f17f56ebc0a3",
            "0dd00431-65d3-4f26-9900-639c365374ed"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 711,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "9c0853fa-7ef7-4ad4-ad15-b33487ff04bf",
          "title": "POST /api/products/:productId/bids",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "POST /api/products/:productId/bids returns 401 - not authorized",
              "timedOut": null,
              "duration": 82,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  body: {\n    name: \"New Product\",\n    description: \"This is a new product\",\n    category: \"Electronics\",\n    originalPrice: 99,\n    pictureUrl: \"https://example.com/product.jpg\",\n    endDate: \"2023-04-01T00:00:00.000Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "de233d75-bc16-4f87-9600-1ebe42b330fe",
              "parentUUID": "9c0853fa-7ef7-4ad4-ad15-b33487ff04bf",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 201 - created",
              "fullTitle": "POST /api/products/:productId/bids returns 201 - created",
              "timedOut": null,
              "duration": 115,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    price: 42\n  }\n}).then(response => {\n  // Assert that the response is as expected\n  expect(response.status).to.eq(201);\n  expect(response.body.id).to.be.match(_pattern.UUIDv4);\n  expect(response.body.productId).to.be.match(_pattern.UUIDv4);\n  expect(response.body.price).to.be.a(\"number\");\n  expect(response.body.date).to.match(_pattern.IOS8601);\n  expect(response.body.bidderId).to.match(_pattern.UUIDv4);\n});",
              "err": {},
              "uuid": "34b0f266-7d54-4afe-b8d7-5d0d2e831ae6",
              "parentUUID": "9c0853fa-7ef7-4ad4-ad15-b33487ff04bf",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 400 - missing or invalid fields",
              "fullTitle": "POST /api/products/:productId/bids returns 400 - missing or invalid fields",
              "timedOut": null,
              "duration": 113,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    // price: 42, missing\n  },\n  failOnStatusCode: false\n}).then(req => {\n  expect(req.status).to.be.eq(400);\n  expect(req.body.error).to.be.eq(\"Invalid or missing fields\");\n  expect(req.body.details).to.exist;\n});",
              "err": {},
              "uuid": "26c1c35c-93eb-4999-86b4-fc8f1a6c8e49",
              "parentUUID": "9c0853fa-7ef7-4ad4-ad15-b33487ff04bf",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object created in database",
              "fullTitle": "POST /api/products/:productId/bids check mutation - object created in database",
              "timedOut": null,
              "duration": 133,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    price: 42\n  }\n}).then(response => {\n  expect(response.status).to.be.eq(201);\n  const newBid = response.body;\n  cy.request(\"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634\").then(response => {\n    const product = response.body;\n    expect(product.bids.some(bid => bid.id === newBid.id)).to.be.true;\n  });\n});",
              "err": {},
              "uuid": "f7e7e733-1cf6-41ed-a607-0b8f6004efca",
              "parentUUID": "9c0853fa-7ef7-4ad4-ad15-b33487ff04bf",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "de233d75-bc16-4f87-9600-1ebe42b330fe",
            "34b0f266-7d54-4afe-b8d7-5d0d2e831ae6",
            "26c1c35c-93eb-4999-86b4-fc8f1a6c8e49",
            "f7e7e733-1cf6-41ed-a607-0b8f6004efca"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 443,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "1d21211d-cb8f-4326-a62a-0303c0547b73",
          "title": "DELETE /bids/:bidId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "DELETE /bids/:bidId returns 401 - not authorized",
              "timedOut": null,
              "duration": 118,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"DELETE\",\n  url: endpoint,\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "eb40153d-9074-4938-9fd7-0a70e37903e9",
              "parentUUID": "1d21211d-cb8f-4326-a62a-0303c0547b73",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when owner edit",
              "fullTitle": "DELETE /bids/:bidId returns 204 - success, when owner edit",
              "timedOut": null,
              "duration": 104,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.charlyToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "1965cb0d-715a-47ec-b10e-9847ce9bba47",
              "parentUUID": "1d21211d-cb8f-4326-a62a-0303c0547b73",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 403 - forbidden, when non owner edit",
              "fullTitle": "DELETE /bids/:bidId returns 403 - forbidden, when non owner edit",
              "timedOut": null,
              "duration": 116,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.bobToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 403);",
              "err": {},
              "uuid": "41aa97d3-32c0-4dbb-9745-4fe506bb5fc0",
              "parentUUID": "1d21211d-cb8f-4326-a62a-0303c0547b73",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when admin edit",
              "fullTitle": "DELETE /bids/:bidId returns 204 - success, when admin edit",
              "timedOut": null,
              "duration": 95,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.adminToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "aef400fd-284f-4ad4-8cf2-abd3fe104c23",
              "parentUUID": "1d21211d-cb8f-4326-a62a-0303c0547b73",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 404 - not found",
              "fullTitle": "DELETE /bids/:bidId returns 404 - not found",
              "timedOut": null,
              "duration": 125,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "c561b1a3-bf48-4075-9c14-1f8d3c6e8593",
              "parentUUID": "1d21211d-cb8f-4326-a62a-0303c0547b73",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object deleted in database",
              "fullTitle": "DELETE /bids/:bidId check mutation - object deleted in database",
              "timedOut": null,
              "duration": 146,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634\",\n  method: \"GET\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  }\n}).then(response => {\n  const product = response.body;\n  expect(product.bids.some(bid => bid.id === \"8ccc6e79-f3c9-43e9-b47e-5be7b84d8de7\")).to.be.true;\n  cy.request({\n    url: endpoint,\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${_tokens.charlyToken}`\n    }\n  }).then(response => {\n    expect(response.status).to.be.eq(204);\n    cy.request({\n      url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634\",\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${_tokens.aliceToken}`\n      },\n      failOnStatusCode: false\n    }).then(response => {\n      const product = response.body;\n      expect(product.bids.some(bid => bid.id === \"8ccc6e79-f3c9-43e9-b47e-5be7b84d8de7\")).to.be.false;\n    });\n  });\n});",
              "err": {},
              "uuid": "73fa5855-1dcf-4628-9a97-45c6f11f07cb",
              "parentUUID": "1d21211d-cb8f-4326-a62a-0303c0547b73",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "eb40153d-9074-4938-9fd7-0a70e37903e9",
            "1965cb0d-715a-47ec-b10e-9847ce9bba47",
            "41aa97d3-32c0-4dbb-9745-4fe506bb5fc0",
            "aef400fd-284f-4ad4-8cf2-abd3fe104c23",
            "c561b1a3-bf48-4075-9c14-1f8d3c6e8593",
            "73fa5855-1dcf-4628-9a97-45c6f11f07cb"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 704,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "b78b012d-372c-4167-8695-6229e4dbed2f",
          "title": "GET /api/users/:userId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 404 - not found",
              "fullTitle": "GET /api/users/:userId returns 404 - not found",
              "timedOut": null,
              "duration": 79,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/users/not-existing-id\",\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "ebefc2de-7fce-4c1a-9f6e-b832f20df79c",
              "parentUUID": "b78b012d-372c-4167-8695-6229e4dbed2f",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success",
              "fullTitle": "GET /api/users/:userId returns 200 - success",
              "timedOut": null,
              "duration": 561,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request(\"http://localhost:3000/api/users/1f2fadb1-0d7e-47a7-9d5b-ed031d665d3e\").then(response => {\n  expect(response.status).to.be.eq(200);\n  expect(response.headers[\"content-type\"]).to.contains(\"application/json\");\n  const user = response.body;\n  expect(user.id).to.eq(\"1f2fadb1-0d7e-47a7-9d5b-ed031d665d3e\");\n  expect(user.username).to.be.eq(\"alice\");\n  expect(user.admin).to.be.false;\n  for (let product of user.products) {\n    expect(product.id).to.be.a(\"string\");\n    expect(product.id).to.match(_pattern.UUIDv4);\n    expect(product.description).to.be.a(\"string\");\n    expect(product.category).to.be.a(\"string\");\n    expect(product.originalPrice).to.be.a(\"number\");\n    expect(product.pictureUrl).to.be.a(\"string\");\n    expect(product.endDate).to.be.a(\"string\");\n    expect(product.endDate).to.match(_pattern.IOS8601);\n  }\n  for (let bid of user.bids) {\n    expect(bid.id).to.be.a(\"string\");\n    expect(bid.id).to.match(_pattern.UUIDv4);\n    expect(bid.price).to.be.a(\"number\");\n    expect(bid.date).to.be.a(\"string\");\n    expect(bid.date).to.match(_pattern.IOS8601);\n    expect(bid.product.id).to.a(\"string\");\n    expect(bid.product.id).to.match(_pattern.UUIDv4);\n    expect(bid.product.name).to.a(\"string\");\n  }\n});",
              "err": {},
              "uuid": "7e40ca29-0516-4868-9f3a-7ec1a3df6816",
              "parentUUID": "b78b012d-372c-4167-8695-6229e4dbed2f",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "ebefc2de-7fce-4c1a-9f6e-b832f20df79c",
            "7e40ca29-0516-4868-9f3a-7ec1a3df6816"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 640,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.0.1"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": false,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.3"
    },
    "marge": {
      "options": {
        "reportDir": "cypress/results",
        "overwrite": false,
        "html": false,
        "json": true
      },
      "version": "6.2.0"
    }
  }
}